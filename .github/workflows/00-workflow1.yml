name: "00 - Workflow 1"

on:
  workflow_dispatch:

  push:
    branches: ["main"]

jobs:
  explain:
    runs-on: ubuntu-latest

    steps:
      - name: "Checkout repository"
        uses: actions/checkout@v4

      - name: "Workflow message"
        run: echo "Workflow = Shay is the king ðŸ‘‘"

      - name: "GitHub Actor"
        run: echo "The actor is ${{ github.actor }}"

      - name: "Docker Build"
        run: docker build -t shayca6/flask-helloname:latest .

      - name: "Docker Login"
        run: echo "${{ secrets.DOCKER_PASSWORD }}" | docker login -u "${{ secrets.DOCKER_USERNAME }}" --password-stdin

      - name: "Docker Push"
        run: docker push shayca6/flask-helloname:latest

      - name: "Final Step"
        run: echo "This is the final step of the workflow âœ…"
